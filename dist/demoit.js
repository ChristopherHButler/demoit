!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Split=e()}(this,function(){"use strict";var _=window,B=_.document,A="addEventListener",P="removeEventListener",I="getBoundingClientRect",N="horizontal",R=function(){return!1},D=_.attachEvent&&!_[A],o=["","-webkit-","-moz-","-o-"].filter(function(t){var e=B.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",i=function(t){return"string"==typeof t||t instanceof String},H=function(t){if(i(t)){var e=B.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},U=function(t,e,n){var r=t[e];return void 0!==r?r:n},G=function(t,e,n,r){if(e){if("end"===r)return 0;if("center"===r)return t/2}else if(n){if("start"===r)return 0;if("center"===r)return t/2}return t},K=function(t,e){var n=B.createElement("div");return n.className="gutter gutter-"+e,n},J=function(t,e,n){var r={};return i(e)?r[t]=e:r[t]=D?e+"%":o+"("+e+"% - "+n+"px)",r},V=function(t,e){var n;return(n={})[t]=e+"px",n};return function(t,c){void 0===c&&(c={});var s,e,o,i,n,l,f=t;Array.from&&(f=Array.from(f));var p=H(f[0]).parentNode,d=getComputedStyle?getComputedStyle(p).flexDirection:null,h=U(c,"sizes")||f.map(function(){return 100/f.length}),r=U(c,"minSize",100),v=Array.isArray(r)?r:f.map(function(){return r}),a=U(c,"expandToMin",!1),m=U(c,"gutterSize",10),y=U(c,"gutterAlign","center"),g=U(c,"snapOffset",30),w=U(c,"dragInterval",1),x=U(c,"direction",N),b=U(c,"cursor",x===N?"col-resize":"row-resize"),S=U(c,"gutter",K),u=U(c,"elementStyle",J),E=U(c,"gutterStyle",V);function C(e,t,n,r){var o=u(s,t,n,r);Object.keys(o).forEach(function(t){e.style[t]=o[t]})}function k(){return l.map(function(t){return t.size})}function z(t){return"touches"in t?t.touches[0][e]:t[e]}function q(t){var e=l[this.a],n=l[this.b],r=e.size+n.size;e.size=t/this.size*r,n.size=r-t/this.size*r,C(e.element,e.size,this._b,e.i),C(n.element,n.size,this._c,n.i)}function L(){var t=l[this.a].element,e=l[this.b].element,n=t[I](),r=e[I]();this.size=n[s]+r[s]+this._b+this._c,this.start=n[o],this.end=n[i]}function O(i){var a=function(t){if(!getComputedStyle)return null;var e=getComputedStyle(t);return t[n]-(x===N?parseFloat(e.paddingLeft)+parseFloat(e.paddingRight):parseFloat(e.paddingTop)+parseFloat(e.paddingBottom))}(p);if(null===a)return i;var u=0,c=[],t=i.map(function(t,e){var n=a*t/100,r=G(m,0===e,e===i.length-1,y),o=v[e]+r;return n<o?(u+=o-n,c.push(0),o):(c.push(n-o),n)});return 0===u?i:t.map(function(t,e){var n=t;if(0<u&&0<c[e]-u){var r=Math.min(u,c[e]-u);u-=r,n=t-r}return n/a*100})}x===N?(s="width",e="clientX",o="left",i="right",n="clientWidth"):"vertical"===x&&(s="height",e="clientY",o="top",i="bottom",n="clientHeight"),h=O(h);var F=[];function T(t){var e=t.i===F.length,n=e?F[t.i-1]:F[t.i];L.call(n);var r=e?n.size-t.minSize-n._c:t.minSize+n._b;q.call(n,r)}function j(t){var i=O(t);i.forEach(function(t,e){if(0<e){var n=F[e-1],r=l[n.a],o=l[n.b];r.size=i[e-1],o.size=t,C(r.element,r.size,n._b),C(o.element,o.size,n._c)}})}function M(n,r){F.forEach(function(e){if(!0!==r?e.parent.removeChild(e.gutter):(e.gutter[P]("mousedown",e._a),e.gutter[P]("touchstart",e._a)),!0!==n){var t=u(s,e.a.size,e._b);Object.keys(t).forEach(function(t){l[e.a].element.style[t]="",l[e.b].element.style[t]=""})}})}return(l=f.map(function(t,e){var n,r,o,i={element:H(t),size:h[e],minSize:v[e],i:e};if(0<e&&((n={a:e-1,b:e,dragging:!1,direction:x,parent:p})._b=G(m,e-1==0,!1,y),n._c=G(m,!1,e===f.length-1,y),"row-reverse"===d||"column-reverse"===d)){var a=n.a;n.a=n.b,n.b=a}if(!D&&0<e){var u=S(e,x,i.element);r=u,o=E(s,m,e),Object.keys(o).forEach(function(t){r.style[t]=o[t]}),n._a=function(t){if(!("button"in t&&0!==t.button)){var e=this,n=l[e.a].element,r=l[e.b].element;e.dragging||U(c,"onDragStart",R)(k()),t.preventDefault(),e.dragging=!0,e.move=function(t){var e,n=l[this.a],r=l[this.b];this.dragging&&(e=z(t)-this.start+(this._b-this.dragOffset),1<w&&(e=Math.round(e/w)*w),e<=n.minSize+g+this._b?e=n.minSize+this._b:e>=this.size-(r.minSize+g+this._c)&&(e=this.size-(r.minSize+this._c)),q.call(this,e),U(c,"onDrag",R)())}.bind(e),e.stop=function(){var t=this,e=l[t.a].element,n=l[t.b].element;t.dragging&&U(c,"onDragEnd",R)(k()),t.dragging=!1,_[P]("mouseup",t.stop),_[P]("touchend",t.stop),_[P]("touchcancel",t.stop),_[P]("mousemove",t.move),_[P]("touchmove",t.move),t.stop=null,t.move=null,e[P]("selectstart",R),e[P]("dragstart",R),n[P]("selectstart",R),n[P]("dragstart",R),e.style.userSelect="",e.style.webkitUserSelect="",e.style.MozUserSelect="",e.style.pointerEvents="",n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",t.gutter.style.cursor="",t.parent.style.cursor="",B.body.style.cursor=""}.bind(e),_[A]("mouseup",e.stop),_[A]("touchend",e.stop),_[A]("touchcancel",e.stop),_[A]("mousemove",e.move),_[A]("touchmove",e.move),n[A]("selectstart",R),n[A]("dragstart",R),r[A]("selectstart",R),r[A]("dragstart",R),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none",n.style.pointerEvents="none",r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",e.gutter.style.cursor=b,e.parent.style.cursor=b,B.body.style.cursor=b,L.call(e),e.dragOffset=z(t)-e.end}}.bind(n),u[A]("mousedown",n._a),u[A]("touchstart",n._a),p.insertBefore(u,i.element),n.gutter=u}return C(i.element,i.size,G(m,0===e,e===f.length-1,y)),0<e&&F.push(n),i})).forEach(function(t){var e=t.element[I]()[s];e<t.minSize&&(a?T(t):t.minSize=e)}),D?{setSizes:j,destroy:M}:{setSizes:j,getSizes:k,collapse:function(t){T(l[t])},destroy:M,parent:p,pairs:F}}}),function(n){var r={};function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=4)}([function(t,e,n){t.exports=n(5)},function(t,e){function c(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}t.exports=function(u){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function o(t){c(r,e,n,o,i,"next",t)}function i(t){c(r,e,n,o,i,"throw",t)}o(void 0)})}}},function(t,e,n){var o=n(7);t.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}},function(e,t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(t){return n(t)}:e.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(t)}e.exports=r},function(t,e,n){t.exports=n(8)},function(t,e,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(6),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(j,t){!function(t){"use strict";var c,e=Object.prototype,s=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag",a="object"==typeof j,u=t.regeneratorRuntime;if(u)a&&(j.exports=u);else{(u=t.regeneratorRuntime=a?j.exports:{}).wrap=w;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",v={},l={};l[o]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(F([])));y&&y!==e&&s.call(y,o)&&(l=y);var g=E.prototype=b.prototype=Object.create(l);S.prototype=g.constructor=E,E.constructor=S,E[i]=S.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(g),t},u.awrap=function(t){return{__await:t}},C(k.prototype),k.prototype[r]=function(){return this},u.AsyncIterator=k,u.async=function(t,e,n,r){var o=new k(w(t,e,n,r));return u.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},C(g),g[i]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},u.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},u.values=F,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:F(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=c),v}}}function w(t,e,n,r){var i,a,u,c,o=e&&e.prototype instanceof b?e:b,s=Object.create(o.prototype),l=new O(r||[]);return s._invoke=(i=t,a=n,u=l,c=f,function(t,e){if(c===d)throw new Error("Generator is already running");if(c===h){if("throw"===t)throw e;return T()}for(u.method=t,u.arg=e;;){var n=u.delegate;if(n){var r=z(n,u);if(r){if(r===v)continue;return r}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(c===f)throw c=h,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);c=d;var o=x(i,a,u);if("normal"===o.type){if(c=u.done?h:p,o.arg===v)continue;return{value:o.arg,done:u.done}}"throw"===o.type&&(c=h,u.method="throw",u.arg=o.arg)}}),s}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function b(){}function S(){}function E(){}function C(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(c){var e;this._invoke=function(n,r){function t(){return new Promise(function(t,e){!function e(t,n,r,o){var i=x(c[t],c,n);if("throw"!==i.type){var a=i.arg,u=a.value;return u&&"object"==typeof u&&s.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):Promise.resolve(u).then(function(t){a.value=t,r(a)},function(t){return e("throw",t,r,o)})}o(i.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function z(t,e){var n=t.iterator[e.method];if(n===c){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=c,z(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=x(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,v;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function q(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(q,this),this.reset(!0)}function F(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(s.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=c,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:c,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),o=n(1),s=n.n(o),i=n(3),f=n.n(i),u=[];function v(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=[],i="string"==typeof t?e.querySelector(t):t;if(!i){if(!n)throw new Error('Ops! There is no DOM element matching "'.concat(t,'" selector.'));i=document.createElement("div")}var a={e:i,content:function(t){return t?(i.innerHTML=t,this.exports()):i.innerHTML},appendChild:function(t){return i.appendChild(t),this},appendChildren:function(t){return t.forEach(function(t){return i.appendChild(t.e)}),this},css:function(t,e){return void 0!==e?(i.style[t]=e,this):i.style[t]},prop:function(t,e){return void 0!==e?(i[t]=e,this):i[t]},attr:function(t,e){return void 0!==e?(i.setAttribute(t,e),this):i.getAttribute(t)},onClick:function(t){i.addEventListener("click",t);var e=function(){return i.removeEventListener("click",t)};return o.push(e),e},onKeyUp:function(t){i.addEventListener("keyup",t);var e=function(){return i.removeEventListener("keyup",t)};return o.push(e),e},onRightClick:function(e){var t=function(t){t.preventDefault(),e()};i.addEventListener("contextmenu",t);var n=function(){return i.removeEventListener("oncontextmenu",t)};return o.push(n),n},onChange:function(t){i.addEventListener("change",function(){return t(i.value)});var e=function(){return i.removeEventListener("change",t)};return o.push(e),e},find:function(t){return v(t,i)},appendTo:function(t){t.e.appendChild(i)},exports:function(){return Array.prototype.slice.call(i.querySelectorAll("[data-export]")).map(function(t){return v(t,i)})},namedExports:function(){return this.exports().reduce(function(t,e){return t[e.attr("data-export")]=e,t},{})},detach:function(){i.parentNode&&i.parentNode.contains(i)&&i.parentNode.removeChild(i)},empty:function(){for(;i.firstChild;)i.removeChild(i.firstChild);return this},destroy:function(){o.forEach(function(t){return t()}),r||(this.empty(),this.detach())}};return u.push(a),a}v.fromString=function(t){var e=document.createElement("div");e.innerHTML=t;var n=Array.prototype.slice.call(e.childNodes).filter(function(t){return 1===t.nodeType});if(0<n.length)return v(n[0]);throw new Error("fromString accepts HTMl with a single parent.")},v.wrap=function(t){return v(document.createElement("div")).appendChildren(t)},v.fromTemplate=function(t){return v.fromString(document.querySelector(t).innerHTML)},v.withFallback=function(t){return v(t,document,!0)},v.withRelaxedCleanup=function(t){return v(t,document,!1,!0)},v.destroy=function(){u.forEach(function(t){return t.destroy()}),u=[]};var a,l=function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(t){return!1}},p=function(e,t){var n=t,r=[];return location.search.substr(1).split("&").forEach(function(t){(r=t.split("="))[0]===e&&(n=decodeURIComponent(r[1]))}),n},d=(a=s()(c.a.mark(function t(e){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)})),function(t){return a.apply(this,arguments)}),h=p("mode")||"editor",m=function(){return"preview"===h},y=function(){return"editor"===h},g=function(){return"readonly"===h},w={default:{name:"default",direction:"horizontal",sizes:[30,70],elements:[{direction:"vertical",sizes:[50,50],elements:["output","log"]},"editor"]},layoutLeft:{name:"layoutLeft",direction:"horizontal",sizes:[70,30],elements:["editor",{direction:"vertical",sizes:[50,50],elements:["output","log"]}]},layoutTop:{name:"layoutTop",direction:"vertical",sizes:[30,70],elements:[{direction:"horizontal",sizes:[50,50],elements:["output","log"]},"editor"]},layoutBottom:{name:"layoutBottom",direction:"vertical",sizes:[70,30],elements:["editor",{direction:"horizontal",sizes:[50,50],elements:["output","log"]}]},layoutEC:{name:"layoutEC",direction:"horizontal",sizes:[70,30],elements:["editor","log"]},layoutEO:{name:"layoutEO",direction:"horizontal",sizes:[70,30],elements:["editor","output"]},layoutEOBottom:{name:"layoutEOBottom",direction:"vertical",sizes:[70,30],elements:["editor","output"]},layoutECBottom:{name:"layoutECBottom",direction:"vertical",sizes:[70,30],elements:["editor","log"]},layoutE:{name:"layoutE",direction:"horizontal",sizes:[100],elements:["editor"]},layoutO:{name:"layoutO",direction:"horizontal",sizes:[100],elements:["output"]}},x=function(a){var t,e=v.withRelaxedCleanup(".app .layout");if(t=a.getEditorSettings().theme,v.withRelaxedCleanup(".app").attr("class","app "+t),m())e.empty().appendChild(v.fromTemplate("#template-code-preview").e);else if(y()||g()){var u,c=a.getEditorSettings().layout||w.default,s={output:v.fromTemplate("#template-output"),log:v.fromTemplate("#template-console"),editor:v.fromTemplate("#template-editor")},l=[];e.empty().appendChildren(function n(t){var e=t.direction,r=t.elements,o=t.sizes,i=r.map(function(t){if("object"!==f()(t))return s[t];var e=v.wrap(n(t));return e.attr("class","editor-section"),e});return l.push(function(){return{split:Split(i.map(function(t){return t.e}),{sizes:o,gutterSize:2,direction:e,onDragEnd:function(){u.forEach(function(t){var e=t.split,n=t.sizes,r=e.getSizes();n[0]=r[0],n[1]=r[1]}),a.updateLayout(c)}}),sizes:o}}),"horizontal"===e&&i.map(function(t){return t.css("float","left")}),i}(c)),setTimeout(function(){return u=l.map(function(t){return t()})},1)}},b=n(2),S=n.n(b),E={presets:["react",["es2015",{modules:!1}]],plugins:["transform-es2015-modules-commonjs"]};function C(t){return Babel.transform(t,E).code}var k={},z=function(t){return t.replace(/\./g,"_")},q=function(t){var e=document.querySelector("#"+z(t));e&&e.parentNode.removeChild(e)},L=function(t,e){var n=document.querySelector("#"+e);if(n)n.innerHTML=t;else{var r=document.createElement("style");e&&r.setAttribute("id",e),r.innerHTML=t,document.body.appendChild(r)}};window.executeCSS=function(t,e){if(k[t])k[t].innerHTML=e;else{var n=document.createElement("style");n.setAttribute("id",z(t)),n.innerHTML=e,document.body.appendChild(n),k[t]=n}},window.executeHTML=function(t,e){var n=document.createElement("div");n.innerHTML=e,v(".output").empty().appendChild(n.firstChild)};var O=function(t){var e=t.filename,n=t.content,r=(e||"").split(/\./).pop().toLowerCase();return"css"===r?n='imported && window.executeCSS("'.concat(e,'", ').concat(JSON.stringify(n),");"):"html"===r&&(n='imported && window.executeHTML("'.concat(e,'", ').concat(JSON.stringify(n),");")),{filename:e,content:n}},F=function(t){var e=t.filename,n=t.content;return'\n  {\n    filename: "'.concat(e,'",\n    func: function (require, exports, imported) {\n      ').concat(C(n),"\n    },\n    exports: {}\n  }\n")};function T(t,e){try{var n=C("\n      const modules = [".concat(e.map(O).map(F).join(","),"];\n      const require = function(file) {\n        const module = modules.find(({ filename }) => filename === file);\n\n        if (!module) {\n          throw new Error('Demoit can not find \"' + file + '\" file.');\n        }\n        module.func(require, module.exports, true);\n        return module.exports;\n      };\n      modules[index].func(require, modules[index].exports, false);\n    "));return new Function("index",n)(t),n}catch(t){console.error(t)}}function j(){var e,r,o,i,a,u=v.withFallback(".console"),c=!0,s=function(t){var e=document.createElement("div"),n=t?t.toString().replace(/[&<>"']/g,function(t){return"&"+{"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#39"}[t]+";"}):t;e.innerHTML="<p>"+n+"</p>",c&&(u.empty(),c=!1),u.appendChild(e)};return e=console.error,r=console.log,o=console.warn,i=console.info,a=console.clear,console.error=function(t){s(t.toString()+t.stack),e.apply(console,arguments)},console.log=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(s),r.apply(console,e)},console.warn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(s),o.apply(console,e)},console.info=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(s),i.apply(console,e)},console.clear=function(){u.content("");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];a.apply(console,e)},function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'<div class="centered"><div>console.log(...)</div></div>';c=!0,u.empty().content(t)}}function M(){var t,r=v.withFallback(".output");return t=s()(c.a.mark(function t(){var e,n=arguments;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0<n.length&&void 0!==n[0]?n[0]:'<div class="centered">&lt;div id="output" /&gt;</div>',"undefined"!=typeof ReactDOM&&ReactDOM.unmountComponentAtNode(r.e),r.content(e);case 3:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)}}var _,B={},A=function(t,e){if(B[t])return e();var n=document.createElement("script");n.src=t,n.addEventListener("load",function(){B[t]=!0,e()}),document.body.appendChild(n)},P=function(t,e){if(B[t])return e();var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",t),n.addEventListener("load",function(){B[t]=!0,e()}),document.body.appendChild(n)},I=(_=s()(c.a.mark(function t(i,a){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(o){!function t(e){if(e!==i.length){a(Math.ceil(e/i.length*100),i[e].split(/\//).pop());var n=i[e],r=n.split(".").pop().toLowerCase();"js"===r?A(n,function(){return t(e+1)}):"css"===r?P(n,function(){return t(e+1)}):t(e+1)}else o()}(0)}));case 1:case"end":return t.stop()}},t,this)})),function(t,e){return _.apply(this,arguments)});function N(t,e){return R.apply(this,arguments)}function R(){return(R=s()(c.a.mark(function t(e,n){var r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],y()&&r.push("./resources/editor.js"),r=r.concat(e.getDependencies()),t.next=5,I(r,n);case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function D(t,e,n,r,o){var i=CodeMirror(t.e,S()({value:n||"",mode:"jsx",tabSize:2,lineNumbers:!1,autofocus:!0,foldGutter:!1,gutters:[],styleSelectedText:!0},e)),a=function(){return r(i.getValue())};return i.on("change",function(){return o(i.getValue())}),i.setOption("extraKeys",{"Ctrl-S":a,"Cmd-S":a}),CodeMirror.normalizeKeyMap(),i.focus(),i}function H(t){return U.apply(this,arguments)}function U(){return(U=s()(c.a.mark(function t(n){var r,o,e,i,a,u;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=j(),o=M(),e=function(){var t=s()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(n,function(t,e){var n='<div class="centered"><div class="spinner"></div></div>';r(n),o(n)});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i=function(){var t=s()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:r(),o(),n.updateCode(T(n.getCurrentIndex(),n.getFiles()));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),a=v.withFallback(".js-code-editor"),t.next=7,e();case 7:return u=D(a.empty(),n.getEditorSettings(),n.getCurrentFile().content,function(){var e=s()(c.a.mark(function t(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:r(),n.editCurrentFile({content:e,editing:!1,preview:a.content()}),i();case 5:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),function(){n.editCurrentFile({editing:!0})}),t.abrupt("return",function(){var e=s()(c.a.mark(function t(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:r(),u.setValue(e.content),u.focus(),n.editCurrentFile({editing:!1}),i();case 7:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var G={content:"",filename:"untitled.js",editing:!1},K="DEMOIT_v2",J={editor:{theme:"light",statusBar:!1,layout:w.default},dependencies:[],files:[G],code:""},V=function(t){var e=location.hash.replace(/^#/,"");if(""!==e){var n=t.findIndex(function(t){return t.filename===e});if(0<=n)return n}return 0},Y=function(){if(l()){var t=localStorage.getItem(K);try{if(t)return JSON.parse(t)}catch(t){console.error("There is some data in the local storage under the ".concat(K," key. However, it is not a valid JSON."))}}return null};function W(){return(W=s()(c.a.mark(function t(){var e,n,r,o,i,a,u;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=l(),n=[],r=p("state"),o=window.state){t.next=18;break}if(r)return t.prev=6,t.next=9,d(r);t.next=17;break;case 9:o=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),console.error("Error reading ".concat(r));case 15:t.next=18;break;case 17:o=J;case 18:return i=V(o.files),a=function(){n.forEach(function(t){return t()}),e&&localStorage.setItem(K,JSON.stringify(o))},(u={setState:function(t){i=V((o=t).files),a()},getCurrentIndex:function(){return i},setCurrentIndex:function(t){i=t,location.hash=o.files[t].filename,a()},isCurrentIndex:function(t){return i===t},getCurrentFile:function(){return this.getFiles()[i]},getFiles:function(){return o.files},dump:function(){return o},getDependencies:function(){return o.dependencies},setDependencies:function(t){o.dependencies=t,a()},getEditorSettings:function(){return o.editor},getFileAt:function(t){return this.getFiles()[t]},makeSureOneFileAtLeast:function(){0===this.getFiles().length&&(o.files.push(G),this.setCurrentIndex(0),a())},editFile:function(t,e){o.files[t]=S()({},o.files[t],e),a(),this.setCurrentIndex(i)},editCurrentFile:function(t){this.editFile(i,t)},changeActiveFile:function(t){return this.setCurrentIndex(t),this.getCurrentFile()},addNewFile:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"untitled.js";return o.files.push(S()({},G,{filename:t})),a(),this.changeActiveFile(o.files.length-1)},deleteFile:function(t){if(q(this.getFileAt(t).filename),t===i)o.files.splice(t,1),a(),this.setCurrentIndex(0);else{var e=this.getCurrentFile();o.files.splice(t,1),a(),this.setCurrentIndex(this.getFiles().findIndex(function(t){return t===e})||0)}},clear:function(){l&&localStorage.clear(),a()},listen:function(t){n.push(t)},updateLayout:function(t){o.editor.layout=t,a()},updateTheme:function(t){o.editor.theme=t,a()},updateCode:function(t){o.code=t,a()},getCode:function(){return o.code},updateStatusBarVisibility:function(t){o.editor.statusBar=t},restoreFromLocalStorage:function(){this.setState(Y())}}).makeSureOneFileAtLeast(),t.abrupt("return",u);case 23:case"end":return t.stop()}},t,this,[[6,12]])}))).apply(this,arguments)}var X='<svg width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M704 1376v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm-544-992h448l-48-117q-7-9-17-11h-317q-10 2-17 11zm928 32v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5h-832q-66 0-113-58.5t-47-141.5v-952h-96q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z"/></svg>',Q='<svg width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1671 566q0 40-28 68l-724 724-136 136q-28 28-68 28t-68-28l-136-136-362-362q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 295 656-657q28-28 68-28t68 28l136 136q28 28 28 68z"/></svg>',Z=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:24;return'<svg width="'.concat(t,'" height="').concat(t,'" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1490 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"/></svg>')},$=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:24;return'<svg width="'.concat(t,'" height="').concat(t,'" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"/></svg>')},tt=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:24;return'<svg width="'.concat(t,'" height="').concat(t,'" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z"/></svg>')},et=27,nt=function(t){var e=t.title,n=t.content;return"<section>\n  <h2>".concat(e,'</h2>\n  <button class="close" data-export="close"><svg width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1490 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"/></svg></button>\n  ').concat(n,"\n</section>")},rt=function(t){var e=t.buttons,n=t.content,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return'<section class="multiple-pages">\n  <ul class="sub-nav">\n    '.concat(e.map(function(t,e){return'<li class="'.concat(e===r?"active":"",'"><a href="javascript:void(0);" data-export="page:').concat(e,'">').concat(t,"</a></li>")}).join(""),'\n  </ul>\n  <button class="close" data-export="close">').concat(Z(),'</button>\n  <div class="content">').concat(n[r],"</div>\n</section>")};function ot(r){var e=v.fromString('<div class="popup"></div>'),t=v.withRelaxedCleanup("body"),n=v.withRelaxedCleanup(".layout"),o=t.onKeyUp(function(t){return t.keyCode===et&&i()}),i=function(){o(),e.css("opacity",0),r.cleanUp&&r.cleanUp(),setTimeout(function(){return e.destroy()},200),n.css("filter","none")};n.css("filter","blur(2px)"),e.appendTo(t),function n(t){e.content(t).forEach(function(t){var e=t.attr("data-export");"close"===e?t.onClick(i):e.match(/^page/)&&t.onClick(function(){return n(rt(r,Number(e.split(":").pop())))})}),r.onRender&&r.onRender(S()({closePopup:i},e.namedExports()))}("buttons"in r?rt(r):nt(r)),setTimeout(function(){return e.css("opacity",1)},1)}var it=13;function at(u,c){return new Promise(function(a){return ot({title:"Edit",content:'\n      <input name="filename" data-export="filenameInput" value="'.concat(u,'"/>\n      <button class="save secondary" data-export="saveButton">').concat(Q,'<span>Update</span></button>\n      <button class="delete secondary right" data-export="deleteButton">').concat(X,"<span>Delete</span></button>\n    "),cleanUp:function(){a(null)},onRender:function(t){var e=t.filenameInput,n=t.saveButton,r=t.closePopup,o=t.deleteButton,i=function(){""!==e.e.value&&a(e.e.value),r()};e.e.focus(),e.e.setSelectionRange(0,u.lastIndexOf(".")),e.onKeyUp(function(t){t.keyCode===it&&i()}),n.onClick(i),1<c?o.css("display","block"):o.css("display","none"),o.onClick(function(){return a("delete"),r()})}})})}var ut=13,ct=function(t){return t.filter(function(t){return""!==t&&"\n"!==t})};function st(p,d,h){return function(){return c=JSON.stringify(p.dump(),null,2),t=p.getEditorSettings(),s=ct(p.getDependencies()).join("\n"),l=t.layout,f=t.theme,new Promise(function(t){return ot({buttons:["General","Export","Dependencies","About"],content:['\n      <p>Layout:</p>\n      <select data-export="layoutPicker">\n        <option value="default">default (HTML/console | editor)</option>\n        <option value="layoutLeft">editor | HTML/console</option>\n        <option value="layoutTop">HTML|console / editor</option>\n        <option value="layoutBottom">editor / HTML|console</option>\n        <option value="layoutEC">editor | console</option>\n        <option value="layoutEO">editor | HTML</option>\n        <option value="layoutECBottom">editor / console</option>\n        <option value="layoutEOBottom">editor / HTML</option>\n        <option value="layoutO">only HTML</option>\n        <option value="layoutE">only editor</option>\n      </select>\n      <p class="mt1">Theme:</p>\n      <select data-export="themePicker">\n        <option value="light">light</option>\n        <option value="dark">dark</option>\n      </select>\n      ','\n        <h2>Export</h2>\n        <p>Download <a href="https://github.com/krasimir/demoit/raw/master/demoit.zip">Demoit.zip</a>. Unzip. Get the JSON below and save it in a <i>mycode.json</i> file. Then open Demoit with<br />"?state=mycode.json". It will automatically pick the data from the json.</p>\n        <textarea class="state-json" data-export="storageTextarea"></textarea>\n      ','\n        <textarea class="dependencies-list" data-export="dependenciesTextarea"></textarea>\n        <p><small>(Separate your dependencies by a new line)</small></p>\n        <button class="save" data-export="saveDependenciesButton">Save</button>\n      ','\n        <p>\n          Author: <a href="https://twitter.com/krasimirtsonev" target="_blank">Krasimir Tsonev</a><br />\n          GitHub repo: <a href="https://github.com/krasimir/demoit" target="_blank">github.com/krasimir/demoit</a>\n        </p>\n      '],cleanUp:function(){t()},onRender:function(t){var n=t.closePopup,e=t.storageTextarea,r=t.dependenciesTextarea,o=t.saveDependenciesButton,i=t.layoutPicker,a=t.themePicker;if(i&&a&&(i.onChange(function(t){var e;e=t,p.updateLayout(w[e]),d(),n()}),i.e.value=l.name||"default",a.onChange(function(t){var e;e=t,p.updateTheme(e),d(),n()}),a.e.value=f||"light"),e&&e.prop("value",c),r&&o){var u=function(){var t;(t=r.prop("value").split(/\r?\n/))&&(p.setDependencies(t),h()),n()};r.prop("value",s),r.onKeyUp(function(t){t.keyCode===ut&&u()}),o.onClick(u)}}})});var c,t,s,l,f}}var lt="4px",ft="36px";function pt(u,c,s,l,f){var p=v.withRelaxedCleanup(".status-bar"),d=v.withRelaxedCleanup(".app .layout"),h=!!u.getEditorSettings().statusBar,t=function(){var o=[],t=u.getFiles();o.push('<div data-export="buttons">'),t.forEach(function(t,e){var n=t.filename,r=t.editing;o.push('<a data-export="file" href="javascript:void(0);" '.concat(u.isCurrentIndex(e)?'class="active"':"",">").concat(n).concat(r?" *":"","</a>"))}),y()&&o.push('<a data-export="newFileButton" href="javascript:void(0)">'.concat($(14),"</a>")),o.push('<a data-export="closeButton" class="right" href="javascript:void(0)">'.concat(Z(14),"</a>")),(y()||g())&&o.push('<a data-export="settingsButton" class="right" href="javascript:void(0)">'.concat(tt(14),"</a>")),o.push("</div>"),p.content(o.join("")).reduce(function(t,e){return"file"===e.attr("data-export")?(e.onClick(function(){return c(t)}),y()&&e.onRightClick(function(){return l(t)}),t+1):t},0);var e=p.namedExports(),n=e.newFileButton,r=e.closeButton,i=e.settingsButton,a=function(){p.namedExports().buttons.css("display",h?"block":"none"),p.css("height",h?ft:lt),d.css("height","calc(100% - ".concat(h?ft:lt,")")),u.updateStatusBarVisibility(h)};n&&n.onClick(s),i&&i.onClick(f),r.onClick(function(t){t.stopPropagation(),h=!1,a()}),p.onClick(function(){h||(h=!0,a())}),a()};t(),u.listen(t)}function dt(t){var n=v.withFallback(".js-code-editor");return L(".CodeMirror-cursor { height: 0 !important; }","hide-editor-cursor"),function(t){var e=t.preview;return n.empty().content(e)}}function ht(r){var t,e,o=v.withFallback(".js-code-editor"),i=j(),a=M(),u=(t=s()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(r,function(t,e){var n='<div class="centered"><div class="spinner"></div></div>';i(n),a(n)});case 2:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)});return L(".CodeMirror-cursor { height: 0 !important; }","hide-editor-cursor"),e=s()(c.a.mark(function t(e){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.empty().content(e.preview),0<=(n=r.getFiles().findIndex(function(t){return t.filename===e.filename}))&&r.getCode())return t.next=5,u();t.next=8;break;case 5:i(),a(),new Function("index",r.getCode())(n);case 8:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)}}(function(){return W.apply(this,arguments)})().then(function(o){function n(){return t.apply(this,arguments)}function t(){return(t=s()(c.a.mark(function t(){var r,e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(x(o),!m()){t.next=5;break}r=dt(),t.next=12;break;case 5:if(y())return t.next=8,H(o);t.next=11;break;case 8:r=t.sent,t.next=12;break;case 11:g()&&(r=ht(o));case 12:r(o.getCurrentFile()),e=st(o,function(){return v.destroy(),n()},function(){return r(o.getCurrentFile())}),pt(o,function(t){r(o.changeActiveFile(t))},function(){var t=s()(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(i){return ot({title:"New file",content:'\n      <input name="filename" data-export="filenameInput" placeholder="untitled.js"/>\n      <button class="save secondary" data-export="saveButton">'.concat(Q,"<span>Create</span></button>\n    "),cleanUp:function(){i()},onRender:function(t){var e=t.filenameInput,n=t.saveButton,r=t.closePopup,o=function(){""!==e.e.value&&i(e.e.value),r()};e.e.focus(),e.onKeyUp(function(t){13===t.keyCode&&o()}),n.onClick(o)}})});case 2:(e=t.sent)&&r(o.addNewFile(e));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),function(){var e=s()(c.a.mark(function t(e){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at(o.getFileAt(e).filename,o.getFiles().length);case 2:"delete"===(n=t.sent)?(o.deleteFile(e),r(o.getCurrentFile())):n&&o.editFile(e,{filename:n});case 4:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),e);case 15:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}n()})}]);